import sys

output	= 'player'

sources = [
            'main.cc',
          ]

env = Environment()

if sys.platform == 'darwin':
	env.Append(CPPPATH=['../BaseLibrary/'])

	env.Append(LIBPATH=['../BaseLibrary/'])
	env.Append(LIBS=['vasik'])

	env.Append(LINKFLAGS='-framework Cocoa')

	tgt = env.Program(output, env.Object(sources))

#	Clean(tgt, output+".app")
	AddPreAction(sources, "export MACOSX_DEPLOYMENT_TARGET='10.4'")
#	AddPostAction(tgt, cmds)

